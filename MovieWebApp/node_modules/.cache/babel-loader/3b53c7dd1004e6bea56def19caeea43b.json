{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\docsa\\\\OneDrive\\\\Desktop\\\\movieWebApp\\\\MovieWebApp\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useCallback } from 'react';\nimport './App.css';\nimport Home from './Components/Home/Home';\nimport Header from './Components/Header/Header';\nimport Footer from './Components/Footer/Footer';\nimport Cart from './Components/Cart/Cart';\nimport CartProvider from './store/CartProvider';\nimport SearchMovie from './Components/Movies/SearchMovie';\nimport useHttp from './hooks/use-http';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [httpError, setHttpError] = useState();\n  const [movies, setMovies] = useState();\n  const [cartIsShown, setCartIsShown] = useState(false);\n\n  const showCartHandler = () => {\n    setCartIsShown(true);\n  };\n\n  const hideCartHandler = () => {\n    setCartIsShown(false);\n  };\n\n  const updateCapacityHandler = (id, amount) => {\n    const temp = movies.map(movie => {\n      if (movie.id === id) movie.capacity = movie.capacity - amount;\n      return movie;\n    });\n    setMovies(temp);\n  };\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      const response = await fetch('https://movie-react-16994-default-rtdb.firebaseio.com/movie.json');\n\n      if (!response.ok) {\n        throw new Error('Something went wrong!');\n      }\n\n      const responseData = await response.json(); // console.log(responseData)\n\n      const loadedMovies = [];\n\n      for (const key in responseData) {\n        const tempCat = [];\n        responseData[key].genres.map(ele => {\n          // console.log(ele)\n          tempCat.push(ele.value);\n        });\n        loadedMovies.push({\n          id: responseData[key].id,\n          name: responseData[key].name,\n          image: responseData[key].image,\n          price: responseData[key].price != \"none\" ? parseInt(responseData[key].price) : \"none\",\n          plot: responseData[key].plot,\n          rating: responseData[key].rating,\n          capacity: responseData[key].capacity,\n          duration: responseData[key].duration,\n          releaseDate: responseData[key].releaseDate,\n          nowShowing: responseData[key].showingStatus,\n          tagline: responseData[key].tagline,\n          theater: responseData[key].theater,\n          timing: responseData[key].timing,\n          category: tempCat\n        });\n      }\n\n      setMovies(loadedMovies);\n      setIsLoading(false);\n    };\n\n    fetchMovies().catch(error => {\n      setIsLoading(false);\n      setHttpError(error.message);\n    });\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        color: \"white\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (httpError) {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        color: \"red\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: httpError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(CartProvider, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      onShowCart: showCartHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), cartIsShown && /*#__PURE__*/_jsxDEV(Cart, {\n      onUpdateCartCapacity: updateCapacityHandler,\n      onClose: hideCartHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(Home, {\n      data: movies,\n      onUpdateCartCapacity: updateCapacityHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: /*#__PURE__*/_jsxDEV(SearchMovie, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"p2TuVl/S+GI6HYpPzCX06OmkwwQ=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/docsa/OneDrive/Desktop/movieWebApp/MovieWebApp/src/App.js"],"names":["useState","useEffect","useCallback","Home","Header","Footer","Cart","CartProvider","SearchMovie","useHttp","App","isLoading","setIsLoading","httpError","setHttpError","movies","setMovies","cartIsShown","setCartIsShown","showCartHandler","hideCartHandler","updateCapacityHandler","id","amount","temp","map","movie","capacity","fetchMovies","response","fetch","ok","Error","responseData","json","loadedMovies","key","tempCat","genres","ele","push","value","name","image","price","parseInt","plot","rating","duration","releaseDate","nowShowing","showingStatus","tagline","theater","timing","category","catch","error","message","color"],"mappings":"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","sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport './App.css';\nimport Home from './Components/Home/Home';\nimport Header from './Components/Header/Header';\nimport Footer from './Components/Footer/Footer';\nimport Cart from './Components/Cart/Cart';\nimport CartProvider from './store/CartProvider';\nimport SearchMovie from './Components/Movies/SearchMovie';\nimport useHttp from './hooks/use-http';\n\nfunction App() {\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [httpError, setHttpError] = useState();\n\n  const [movies,setMovies]=useState();\n  const [cartIsShown, setCartIsShown] = useState(false);\n\n  const showCartHandler = () => {\n    setCartIsShown(true);\n  };\n\n  const hideCartHandler = () => {\n    setCartIsShown(false);\n  };\n\n  const updateCapacityHandler = (id,amount) =>{\n    \n    const temp=movies.map((movie)=>{\n      if(movie.id===id) movie.capacity=movie.capacity-amount;\n      return movie;\n    });\n    setMovies(temp);\n  };\n  \n  useEffect(() => {\n    const fetchMovies = async () => {\n      const response = await fetch(\n        'https://movie-react-16994-default-rtdb.firebaseio.com/movie.json'\n      );\n\n      if (!response.ok) {\n        throw new Error('Something went wrong!');\n      }\n\n      const responseData = await response.json();\n      // console.log(responseData)\n      const loadedMovies = [];\n\n      for (const key in responseData) {\n        const tempCat=[];\n        responseData[key].genres.map((ele)=>{\n          // console.log(ele)\n          tempCat.push(ele.value)\n        })\n\n        loadedMovies.push({\n          id: responseData[key].id,\n          name: responseData[key].name,\n          image: responseData[key].image,\n          price: responseData[key].price != \"none\" ? parseInt(responseData[key].price):\"none\",\n          plot: responseData[key].plot,\n          rating: responseData[key].rating,\n          capacity: responseData[key].capacity,\n          duration: responseData[key].duration,\n          releaseDate: responseData[key].releaseDate,\n          nowShowing: responseData[key].showingStatus,\n          tagline: responseData[key].tagline,\n          theater: responseData[key].theater,\n          timing: responseData[key].timing,\n          category: tempCat,\n        });\n      }\n\n      setMovies(loadedMovies);\n      setIsLoading(false);\n    };\n\n    fetchMovies().catch((error) => {\n      setIsLoading(false);\n      setHttpError(error.message);\n    });\n  }, []);\n\n  if (isLoading) {\n    return (\n      <section style={{color:\"white\"}}>\n        <p>Loading...</p>\n      </section>\n    );\n  }\n\n  if (httpError) {\n    return (\n      <section style={{ color: \"red\" }}>\n        <p >{httpError}</p>\n      </section>\n    );\n  }\n\n  \n\n\n  return (\n    <CartProvider>\n      <Header onShowCart={showCartHandler} />\n      {cartIsShown && <Cart onUpdateCartCapacity={updateCapacityHandler} onClose={hideCartHandler} />}\n      <Home data={movies} onUpdateCartCapacity={updateCapacityHandler} />\n      <section>\n      <SearchMovie />\n        {/* <AddMovie \n        // onAddMovie={addMovieHandler} \n        /> */}\n      </section>\n      \n      {/* <MoviesTemp /> */}\n      <Footer />\n    </CartProvider>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}